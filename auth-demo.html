<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéì HH310 Academic System - Authentication Demo</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .navbar {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
    }

    .navbar-brand h2 {
      color: #667eea;
      font-weight: 700;
    }

    .auth-dropdown {
      position: relative;
      display: inline-block;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s ease;
    }

    .btn--auth {
      background: #667eea;
      color: white;
      font-size: 0.95rem;
    }

    .btn--auth:hover {
      background: #5a67d8;
      transform: translateY(-1px);
    }

    .auth-chevron {
      transition: transform 0.3s ease;
    }

    .auth-dropdown.active .auth-chevron {
      transform: rotate(180deg);
    }

    .auth-dropdown-menu {
      position: absolute;
      top: calc(100% + 0.5rem);
      right: 0;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      min-width: 200px;
      opacity: 0;
      transform: translateY(-10px);
      pointer-events: none;
      transition: all 0.3s ease;
      z-index: 1000;
    }

    .auth-dropdown-menu.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }

    .auth-dropdown-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem 1.25rem;
      color: #374151;
      text-decoration: none;
      transition: all 0.2s ease;
      border-bottom: 1px solid #f3f4f6;
    }

    .auth-dropdown-item:last-child {
      border-bottom: none;
    }

    .auth-dropdown-item:hover {
      background: #f8fafc;
      color: #667eea;
    }

    .auth-dropdown-item i {
      width: 16px;
      text-align: center;
    }

    .main-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }

    .demo-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 3rem;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 600px;
      width: 100%;
    }

    .demo-card h1 {
      color: #1f2937;
      margin-bottom: 1rem;
      font-size: 2.5rem;
    }

    .demo-card p {
      color: #6b7280;
      margin-bottom: 2rem;
      font-size: 1.1rem;
      line-height: 1.6;
    }

    .demo-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn--primary {
      background: #667eea;
      color: white;
    }

    .btn--secondary {
      background: #e5e7eb;
      color: #374151;
    }

    .btn--primary:hover {
      background: #5a67d8;
      transform: translateY(-2px);
    }

    .btn--secondary:hover {
      background: #d1d5db;
      transform: translateY(-2px);
    }

    .status-indicator {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: #10b981;
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 50px;
      font-weight: 500;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .instruction {
      background: #f0f9ff;
      border: 2px solid #0ea5e9;
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 2rem;
      text-align: left;
    }

    .instruction h3 {
      color: #0369a1;
      margin-bottom: 1rem;
    }

    .instruction ol {
      color: #1e40af;
      padding-left: 1.5rem;
    }

    .instruction li {
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="navbar-brand">
      <h2>üéì HH310 Academic System</h2>
    </div>
    <div class="auth-dropdown" id="auth-dropdown">
      <button class="btn btn--auth" id="auth-btn" onclick="toggleAuthDropdown()">
        <i class="fas fa-user"></i>
        Account
        <i class="fas fa-chevron-down auth-chevron"></i>
      </button>
      <div class="auth-dropdown-menu" id="auth-dropdown-menu">
        <a href="#" class="auth-dropdown-item" onclick="redirectToLogin('login')">
          <i class="fas fa-sign-in-alt"></i>
          Login
        </a>
        <a href="#" class="auth-dropdown-item" onclick="redirectToLogin('signup')">
          <i class="fas fa-user-plus"></i>
          Sign Up
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <div class="demo-card">
      <h1>üîó Authentication Connection Demo</h1>
      <p>
        This demo shows how the login and sign up buttons in the Account dropdown 
        are connected to the authentication system. Click the Account button above 
        to see the dropdown menu with Login and Sign Up options.
      </p>
      
      <div class="demo-actions">
        <button class="btn btn--primary" onclick="goToHome()">
          <i class="fas fa-home"></i>
          Go to Full Home Page
        </button>
        <button class="btn btn--secondary" onclick="testConnection()">
          <i class="fas fa-flask"></i>
          Test Connection
        </button>
      </div>

      <div class="instruction">
        <h3>üìã How to Test the Connection:</h3>
        <ol>
          <li><strong>Click "Account"</strong> in the top-right corner to open the dropdown</li>
          <li><strong>Click "Login"</strong> to be redirected to the login page in login mode</li>
          <li><strong>Click "Sign Up"</strong> to be redirected to the login page in signup mode</li>
          <li><strong>Use the browser back button</strong> to return and test the other option</li>
          <li><strong>Click "Go to Full Home Page"</strong> to see the complete system</li>
        </ol>
      </div>
    </div>
  </div>

  <!-- Status Indicator -->
  <div class="status-indicator">
    ‚úÖ Connection Active
  </div>

  <script>
    // Authentication dropdown functionality
    function toggleAuthDropdown() {
      const dropdown = document.getElementById('auth-dropdown');
      const menu = document.getElementById('auth-dropdown-menu');
      
      if (dropdown && menu) {
        dropdown.classList.toggle('active');
        menu.classList.toggle('show');
        
        // Add click outside to close functionality
        if (menu.classList.contains('show')) {
          setTimeout(() => {
            document.addEventListener('click', handleClickOutside);
          }, 0);
        } else {
          document.removeEventListener('click', handleClickOutside);
        }
      }
    }

    function handleClickOutside(event) {
      const dropdown = document.getElementById('auth-dropdown');
      if (dropdown && !dropdown.contains(event.target)) {
        closeAuthDropdown();
        document.removeEventListener('click', handleClickOutside);
      }
    }

    function closeAuthDropdown() {
      const dropdown = document.getElementById('auth-dropdown');
      const menu = document.getElementById('auth-dropdown-menu');
      
      if (dropdown && menu) {
        dropdown.classList.remove('active');
        menu.classList.remove('show');
      }
    }

    // Redirect functions
    function redirectToLogin(mode = 'login') {
      closeAuthDropdown();
      
      // Show loading state
      const authBtn = document.getElementById('auth-btn');
      if (authBtn) {
        authBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
        authBtn.disabled = true;
      }

      // Add small delay to ensure dropdown closes smoothly
      setTimeout(function() {
        window.location.href = `login.html?form=${mode}`;
      }, 500);
    }

    function goToHome() {
      window.location.href = 'home.html';
    }

    function testConnection() {
      alert('üîó Connection Test:\n\n‚úÖ JavaScript functions loaded\n‚úÖ Event handlers attached\n‚úÖ CSS styles applied\n‚úÖ Ready to redirect to login page\n\nTry clicking the Account button and then Login or Sign Up!');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üöÄ Authentication demo loaded successfully!');
      
      // Test if all functions are available
      const tests = [
        { name: 'toggleAuthDropdown', func: typeof toggleAuthDropdown },
        { name: 'redirectToLogin', func: typeof redirectToLogin },
        { name: 'closeAuthDropdown', func: typeof closeAuthDropdown }
      ];
      
      tests.forEach(test => {
        console.log(`${test.func === 'function' ? '‚úÖ' : '‚ùå'} ${test.name}: ${test.func}`);
      });
    });
  </script>
</body>
</html>
